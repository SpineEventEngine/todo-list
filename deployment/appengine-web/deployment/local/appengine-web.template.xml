<?xml version="1.0" encoding="utf-8"?>

<!--
  ~ Copyright 2019, TeamDev. All rights reserved.
  ~
  ~ Redistribution and use in source and/or binary forms, with or without
  ~ modification, must retain the above copyright notice and the following
  ~ disclaimer.
  ~
  ~ THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  ~ "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  ~ LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  ~ A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
  ~ OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
  ~ SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  ~ LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
  ~ DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
  ~ THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  ~ (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  ~ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  -->

<appengine-web-app xmlns="http://appengine.google.com/ns/1.0">
    <application>spine-dev</application>
    <version>$version$</version>

    <threadsafe>true</threadsafe>
    <runtime>java8</runtime>
    <url-stream-handler>native</url-stream-handler>

    <instance-class>B1</instance-class>
    <!-- The AppEngine Gradle plugin is configured to use 8080 port when running
         AppEngine locally. But, the configuration is not applied and a random port is used
         when `<basic-scaling>` parameter exists in AppEngine config.
         See https://github.com/GoogleCloudPlatform/app-gradle-plugin/issues/185 -->
    <!--<basic-scaling>-->
    <!--<max-instances>1</max-instances>-->
    <!--</basic-scaling>-->

    <static-files>
        <!--
            Note that App Engine doesn't include static files in the resulting war
            therefore they are not accessible by the app code.
        -->

        <include path="/static/**" expiration="30s">
            <http-header name="Cache-Control" value="private"/>
        </include>
    </static-files>

    <public-root>/static</public-root>

    <resource-files>
        <include path="/WEB-INF/**.*"/>
        <!--
            Here go resources that are static by the nature but should be accessible by the app code
            (e.g. dispatcher servlet handles all of the requests with context path,
            like "http://domain/hhcolorlab/pages/index.html")
        -->
        <include path="/static/index.html"/>
    </resource-files>
</appengine-web-app>
